# ~~ Generated by projen. To modify, edit .projenrc.ts and run "npx projen".

name: cdk-diff-action
description: The CDK Diff GitHub Action allows you to run CDK diff as part of your CI/CD workflow.
runs:
  using: node20
  main: dist/index.js
author: Cory Hall
branding:
  color: orange
  icon: message-square
inputs:
  githubToken:
    description: github token
    required: true
  cdkOutDirs:
    description: |-
      Glob pattern to find CDK output directories to diff.

      Examples:
      - Find all: "**/cdk.out"
      - Specific folders: "{infra,apps,packages}/*/cdk.out"
      - Single project: "my-project/cdk.out"
    required: false
    default: "**/cdk.out"
  baseRef:
    description: |-
      Git reference to compare against for detecting changes.

      Only directories with changes compared to this ref will be processed.

      Examples:
      - "origin/main"
      - "main"
      - "HEAD~1"
    required: false
    default: origin/main
  diffMethod:
    description: |-
      The method to create a stack diff.

      Valid values are 'change-set' or 'template-only'.

      Use changeset diff for the highest fidelity, including analyze resource replacements.
      In this method, diff will use the deploy role instead of the lookup role.

      Use template-only diff for a faster, less accurate diff that doesn't require
      permissions to create a change-set.
    required: false
    default: change-set
  title:
    description: An optional title for each diff comment on the PR.
    required: false
    default: ""
